
#rename files, remove spaces in filename:
for f in *\ * ; do mv "$f" "${f// /_}"; done

# rename files, and also take care of special charecters by quoting files
ls | sed 's/Viveka\(.*\)/mv & Vivek\1/' | sed 's/Vivek/\"Vivek/g' | sed 's/.m4a/.m4a\"/g' | grep ^mv | sh



############################
# aliases
############################


alias displaydriver="sudo lshw -c video" 
alias c=clear
alias l="ls -alrth"
alias ..="cd ..;pwd"
alias refresh="source ~/.aliases"
alias top=bashtop
alias ubuntuversion="lsb_release -a"
alias os=ubuntuversion


backupExtn="ab"
backupMicromax(){
    adb backup -apk -obb -shared -all -system -f backup.$backupExtn`date -I`
}

verifyBackup() {
    set -o pipefail
    for a in *.$backupExtn;
    do
      echo "$a";
      dd if="$a" bs=24 skip=1 | zlib-flate -uncompress | tar tf - >/dev/null;
      echo "ret=$?";
    done
}
p(){
    ps -ef | grep -vi grep | grep -i $1
}

f() {
    find . | grep -vi find | grep -i $1
}

displayCommands () {
 sudo lshw -c video
 lspci -nn | grep -E 'VGA|Display'
 sudo lshw -c video
 nvidia-smi
 #https://linuxize.com/post/how-to-nvidia-drivers-on-ubuntu-20-04/
}


bkup_folder='/home/amma/Desktop/notesbackups'

function backupFolders() {
  # hobby, sanskrit, tech, adhyatm
  #/opt/Notebooks/tech
  #/opt/Notebooks/adhyatm
  #/opt/Notebooks/
  #/opt/Notebooks/
    #folder1='/home/amma/Desktop/tech/'
    #folder2='/opt/Notebooks/Notes/'
    notesDir='/opt/Notebooks'
    #cd $notesDir
    for f in `ls $notesDir` ; do 
    folderName=$f
    echo zip -r $noteDir/$f-`date -I`.zip $f; 
    done

    #rm-rf $bkup_folder
    #mkdir -p $bkup_folder
    #cp ~/.aliases $bkup_folder
    #zip -r   $bkup_folder/adhyatm-`date -I` $folder2
    #zip -r   $bkup_folder/tech-`date -I` $folder1
}

# todo: input a list of folders. Zip them all, and then back em up
function backupFolders_v2() {
    notesDir='/opt/Notebooks'
    echo "in directory" $notesDir
    cd $notesDir
    for f in `ls` ; do 
    zipName=$f-`date -I`.zip
    zip -r  $zipName $f; 
    mkdir -p $bkup_folder
    mv $zipName $bkup_folder/
    done
    cp ~/.aliases $bkup_folder/
    cd -
}

# backup and upload to drive
function backupFiles(){
    backupFolders_v2
    #upload to google drive, folder: notesBackup
    # 
    /usr/local/bin/gdrive upload -r $bkup_folder --parent 1jJINJ8lSMnRj22Mcqr_e1d1LWpgvvV7l
    echo  "backed up here:"
    echo "https://drive.google.com/drive/folders/1jJINJ8lSMnRj22Mcqr_e1d1LWpgvvV7l?usp=sharing"
    #cleanup old copies or  unwanted backups(size 0)
    # ensure only 5 best working copies are stored
    rm -rf $bkup_folder/*
    echo "cleaned up the backup folder"
}
# https://drive.google.com/drive/folders/1jJINJ8lSMnRj22Mcqr_e1d1LWpgvvV7l?usp=sharing


function kp(){
    ps -ef | grep -vi grep | grep -i $1 | awk '{print $2}' | xargs kill -9
}



quickClean() {
    sudo apt-get autoremove
    sudo du -sh /var/cache/apt #clean apt cache
    sudo apt-get autoclean
    sudo apt-get clean
    journalctl --disk-usage
    du -h /var/lib/snapd/snaps #remove old versions of snap
    rm -rf ~/.cache/thumbnails/* #clean thumbnail cache
}


